<!DOCTYPE html>
<html>
<head>
    <title>Institutional Trading Engine</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body{font-family:Arial;background:#0e0e0e;color:#eaeaea;padding:15px}
        h2{color:#00ffaa}
        button{padding:10px 15px;margin:5px;border:none;border-radius:5px;cursor:pointer}
        .green{background:#00ffaa;color:#000}
        .red{background:#ff4d4d;color:#fff}
        .blue{background:#4da6ff;color:#fff}
        .card{background:#161616;padding:12px;margin:10px 0;border-radius:6px}
        pre{white-space:pre-wrap;font-size:12px}
    </style>
</head>
<body>

<h2>Institutional Breakout Engine</h2>

<div class="card">
    <button class="green" onclick="start()">Start Bot</button>
    <button class="red" onclick="stop()">Stop Bot</button>
</div>

<div class="card">
    <button class="blue" onclick="setMode('PAPER')">Paper Trade</button>
    <button class="blue" onclick="setMode('LIVE')">Live Deploy</button>
</div>

<div class="card">
    <h3>Status</h3>
    <pre id="status"></pre>
</div>

<div class="card">
    <h3>Positions</h3>
    <pre id="positions"></pre>
</div>

<div class="card">
    <h3>Orders</h3>
    <pre id="orders"></pre>
</div>

<div class="card">
    <h3>Scan Log</h3>
    <pre id="log"></pre>
</div>

<script>
async function start(){
    await fetch('/start',{method:'POST'})
}
async function stop(){
    await fetch('/stop',{method:'POST'})
}
async function setMode(mode){
    await fetch('/mode',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({mode})
    })
}

async function refresh(){
    const s = await fetch('/status').then(r=>r.json())
    document.getElementById('status').innerText = JSON.stringify(s,null,2)
    document.getElementById('positions').innerText = JSON.stringify(s.positions,null,2)
    document.getElementById('orders').innerText = JSON.stringify(s.orders,null,2)

    const log = await fetch('/log').then(r=>r.json())
    document.getElementById('log').innerText = log.join("\n")
}

setInterval(refresh, 2000)
</script>

</body>
</html>